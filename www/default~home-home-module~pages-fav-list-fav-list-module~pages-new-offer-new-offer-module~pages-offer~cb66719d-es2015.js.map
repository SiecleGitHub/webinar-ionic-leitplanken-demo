{"version":3,"sources":["./src/app/components/camera/camera.component.html","./src/app/components/gallery/gallery.component.html","./src/app/components/item-grid/item-grid.component.html","./src/app/components/item-listing/item-listing.component.html","./src/app/components/navigation/navigation.component.html","./src/app/components/camera/camera.component.scss","./src/app/components/camera/camera.component.ts","./src/app/components/gallery/gallery.component.scss","./src/app/components/gallery/gallery.component.ts","./src/app/components/item-grid/item-grid.component.scss","./src/app/components/item-grid/item-grid.component.ts","./src/app/components/item-listing/item-listing.component.scss","./src/app/components/item-listing/item-listing.component.ts","./src/app/components/navigation/navigation.component.scss","./src/app/components/navigation/navigation.component.ts","./src/app/components/share.module.ts","./src/app/services/favourites.service.ts"],"names":[],"mappings":"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","file":"default~home-home-module~pages-fav-list-fav-list-module~pages-new-offer-new-offer-module~pages-offer~cb66719d-es2015.js","sourcesContent":["export default \"<ion-button (click)=\\\"takePictureCapacitor()\\\">Take Capacitor Picture</ion-button>\\n\\n<ion-button (click)=\\\"initPictureProcess()\\\">Take Web Picture</ion-button>\\n<div style=\\\"height: 0; width: 0; opacity: 0;\\\" hidden>\\n  <input type=\\\"file\\\" id=\\\"pwaphoto\\\" #photoRef accept=\\\"image/x-png,image/jpeg\\\" (change)=\\\"handleInput()\\\">\\n</div>\\n\";","export default \"<ion-slides [pager]=\\\"true\\\" #slider>\\n    <ion-slide *ngFor=\\\"let image of images\\\">\\n        <ion-img [src]=\\\"image\\\"></ion-img>\\n    </ion-slide>\\n</ion-slides>\\n<ng-container *ngIf=\\\"images && images.length\\\">\\n    <ion-button fill=\\\"outline\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"slider.slidePrev()\\\">\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button fill=\\\"outline\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"slider.slideNext()\\\">\\n        <ion-icon name=\\\"arrow-forward-outline\\\"></ion-icon>\\n    </ion-button>\\n</ng-container>\\n\";","export default \"<ion-grid>\\n<ion-row>\\n  <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"4\\\" *ngFor=\\\"let item of items\\\">\\n    <ion-card  [routerLink]=\\\"'/offer-details/' + item.offerId\\\">\\n      <ion-img *ngIf=\\\"item.images\\\" [src]=\\\"item.images[0]\\\" alt=\\\"\\\"></ion-img>\\n      <ion-card-header>\\n        <ion-card-subtitle>{{item.address}}</ion-card-subtitle>\\n        <ion-card-title>{{item.title}}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        {{item.shortDescription}}\\n      </ion-card-content>\\n    </ion-card>\\n  </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";","export default \"<ion-list>\\n    <ion-item-sliding *ngFor=\\\"let offer of items\\\">\\n        <ion-item [routerLink]=\\\"'/offer-details/' + offer.offerId\\\">\\n            <ion-thumbnail slot=\\\"start\\\">\\n                <ion-img [src]=\\\"offer.images[0]\\\"></ion-img>\\n            </ion-thumbnail>\\n            <ion-label>\\n                <h2 [innerHTML]=\\\"offer.title\\\"></h2>\\n                <h3 [innerHTML]=\\\"offer.address\\\"></h3>\\n                <p [innerHTML]=\\\"offer.shortDescription\\\"></p>\\n            </ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n            <ion-item-option (click)=\\\"mark(offer)\\\">\\n                <ion-icon name=\\\"star\\\"></ion-icon>\\n            </ion-item-option>\\n        </ion-item-options>\\n    </ion-item-sliding>\\n</ion-list>\\n\";","export default \"<ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\" *ngIf=\\\"!mobile\\\">\\n        <ng-content *ngTemplateOutlet=\\\"nav; context: {layout: 'icon-start'}\\\"></ng-content>\\n    </ion-tab-bar>\\n    <ion-tab-bar slot=\\\"bottom\\\" *ngIf=\\\"mobile\\\">\\n        <ng-content *ngTemplateOutlet=\\\"nav; context: {layout: 'label-hide'}\\\"></ng-content>\\n    </ion-tab-bar>\\n</ion-tabs>\\n\\n\\n<ng-template #nav let-layout=\\\"layout\\\">\\n    <ion-tab-button tab=\\\"home\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"home\\\"></ion-icon>\\n        <ion-label>Home</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"search\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"search\\\"></ion-icon>\\n        <ion-label>Search</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"favourites\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"bookmarks\\\"></ion-icon>\\n        <ion-label>Favourites</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"new-offer\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"medkit\\\"></ion-icon>\\n        <ion-label>New Offer</ion-label>\\n    </ion-tab-button>\\n</ng-template>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2FtZXJhL2NhbWVyYS5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, ElementRef, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { Plugins, CameraResultType, Permissions, PermissionType } from '@capacitor/core';\nconst { Camera } = Plugins;\n\n@Component({\n    selector: 'app-camera',\n    templateUrl: './camera.component.html',\n    styleUrls: [ './camera.component.scss' ],\n})\nexport class CameraComponent {\n    @ViewChild('photoRef', { static: true }) photoInput: ElementRef;\n    @Output() public readonly capture = new EventEmitter<string>();\n\n    constructor(private readonly toasts: ToastController) {\n    }\n\n    initPictureProcess() {\n        this.photoInput.nativeElement.click();\n    }\n\n    async handleInput() {\n        const files: FileList = this.photoInput.nativeElement.files;\n        if (!files && files.length <= 0) {\n            return;\n        }\n        try {\n            const base64Photo = await this.convertBase64(files[ 0 ]);\n            this.capture.emit(base64Photo);\n        } catch {\n            const toast = await this.toasts.create({\n                message: 'Could not take picture',\n                duration: 2000,\n                color: 'warning',\n                translucent: true,\n            });\n            toast.present();\n        }\n    }\n\n    convertBase64(image: File): Promise<string> {\n        if (!image) {\n            return;\n        }\n\n        const reader: FileReader = new FileReader();\n        reader.readAsDataURL(image);\n        return new Promise((resolve, reject) => {\n            reader.onload = () => resolve(reader.result as string);\n            reader.onerror = (error) => reject(error);\n        });\n    }\n\n    async takePictureCapacitor() {\n        try {\n            const cameraPermission = await Permissions.query({ name: PermissionType.Camera });\n            console.log(cameraPermission);\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            const image = await Camera.getPhoto({\n                quality: 90,\n                allowEditing: true,\n                resultType: CameraResultType.Base64,\n            });\n            const base64Image = image.base64String;\n            this.capture.emit('data:image/jpeg;base64, ' + base64Image);\n\n        } catch (e) {\n            console.error(e);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.scss'],\n})\nexport class GalleryComponent {\n  @Input() images: string[];\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaXRlbS1ncmlkL2l0ZW0tZ3JpZC5jb21wb25lbnQuc2NzcyJ9 */\";","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { OfferItem } from '../../services/item.service';\nimport { ToastController } from '@ionic/angular';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-item-grid',\n    templateUrl: './item-grid.component.html',\n    styleUrls: [ './item-grid.component.scss' ],\n    changeDetection: ChangeDetectionStrategy.Default,\n})\nexport class ItemGridComponent {\n    @Input() items: OfferItem[];\n\n    constructor(\n        private readonly toast: ToastController,\n        private favourites: FavouritesService,\n    ) {\n    }\n\n    async mark(item: OfferItem) {\n        const id = await this.favourites.update(item);\n        const toast = await this.toast.create({\n            message: `added #${ item.offerId } ${ id }to favourites`,\n            duration: 1000,\n            color: 'light',\n            translucent: true,\n        });\n        toast.present();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaXRlbS1saXN0aW5nL2l0ZW0tbGlzdGluZy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, Input } from '@angular/core';\nimport { OfferItem } from '../../services/item.service';\nimport { ToastController } from '@ionic/angular';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-item-listing',\n    templateUrl: './item-listing.component.html',\n    styleUrls: [ './item-listing.component.scss' ],\n})\nexport class ItemListingComponent {\n    @Input() items: OfferItem[];\n\n    constructor(\n        private readonly toast: ToastController,\n        private favourites: FavouritesService,\n    ) {}\n\n    async mark(item: OfferItem) {\n        const id = await this.favourites.checkAndAdd(item);\n        const message = `Added #${ item.offerId } to favouites`;\n        const toast = await this.toast.create({\n            message,\n            duration: 1000,\n            color: 'dark',\n            translucent: false,\n        });\n        await toast.present();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, Input } from '@angular/core';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\n@Component({\n    selector: 'app-navigation',\n    templateUrl: './navigation.component.html',\n    styleUrls: [ './navigation.component.scss' ],\n})\nexport class NavigationComponent {\n    public mobile: boolean;\n\n    constructor(\n        private platform: Platform,\n        private splashScreen: SplashScreen,\n        private statusBar: StatusBar,\n    ) {\n        this.initializeApp(); // todo in service\n    }\n\n    initializeApp() {\n        this.platform.ready().then(() => {\n            this.statusBar.styleDefault();\n            this.splashScreen.hide();\n\n            this.mobile = this.platform.is('mobile') || this.platform.is('mobileweb');\n\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { ItemListingComponent } from './item-listing/item-listing.component';\nimport { NavigationComponent } from './navigation/navigation.component';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { ImmoStoreDexieService, ImmoStoreService } from '../services/immo-store-web.service';\nimport { ItemGridComponent } from './item-grid/item-grid.component';\nimport { CameraComponent } from './camera/camera.component';\nimport { GalleryComponent } from './gallery/gallery.component';\n\nconst ALL_COMPONENTS = [\n    ItemListingComponent,\n    NavigationComponent,\n    ItemGridComponent,\n    CameraComponent,\n    GalleryComponent\n]\n\n@NgModule({\n    declarations: ALL_COMPONENTS,\n    exports: ALL_COMPONENTS,\n    imports: [\n        CommonModule,\n        IonicModule,\n        RouterModule,\n    ],\n})\nexport class ShareModule {\n}\n","import { Injectable } from '@angular/core';\nimport { ImmoStoreService } from './immo-store-web.service';\nimport { OfferItem } from './item.service';\nimport { ancestorWhere } from 'tslint';\n\n@Injectable({ providedIn: 'root' })\nexport class FavouritesService {\n\n    constructor(private readonly immoStore: ImmoStoreService) {\n    }\n\n    async getAll(): Promise<OfferItem[]> {\n        return await this.immoStore.getOffers();\n    }\n\n    async get(id: number): Promise<OfferItem> {\n        const item = await this.immoStore.getOffer(id);\n        return item;\n    }\n\n    async update(item: OfferItem): Promise<number> {\n        return this.immoStore.addOffer(item);\n    }\n\n    async checkAndAdd(item: OfferItem) {\n        const existingOffer = await this.immoStore.getOffer(item.offerId);\n        if(!existingOffer) {\n            return this.immoStore.addOffer(item);\n        }\n        else {\n            return this.immoStore.updateOffer(item);\n        }\n    }\n}\n"],"sourceRoot":"webpack:///"}