{"version":3,"sources":["webpack:///src/app/components/camera/camera.component.html","webpack:///src/app/components/gallery/gallery.component.html","webpack:///src/app/components/item-grid/item-grid.component.html","webpack:///src/app/components/item-listing/item-listing.component.html","webpack:///src/app/components/navigation/navigation.component.html","webpack:///src/app/components/camera/camera.component.scss","webpack:///src/app/components/camera/camera.component.ts","webpack:///src/app/components/gallery/gallery.component.scss","webpack:///src/app/components/gallery/gallery.component.ts","webpack:///src/app/components/item-grid/item-grid.component.scss","webpack:///src/app/components/item-grid/item-grid.component.ts","webpack:///src/app/components/item-listing/item-listing.component.scss","webpack:///src/app/components/item-listing/item-listing.component.ts","webpack:///src/app/components/navigation/navigation.component.scss","webpack:///src/app/components/navigation/navigation.component.ts","webpack:///src/app/components/share.module.ts","webpack:///src/app/services/favourites.service.ts"],"names":["Camera","CameraComponent","toasts","capture","photoInput","nativeElement","click","files","length","convertBase64","base64Photo","emit","create","message","duration","color","translucent","toast","present","image","reader","FileReader","readAsDataURL","Promise","resolve","reject","onload","result","onerror","error","query","name","cameraPermission","console","log","getPhoto","quality","allowEditing","resultType","Base64","base64Image","base64String","selector","template","GalleryComponent","ItemGridComponent","favourites","item","update","id","offerId","changeDetection","Default","ItemListingComponent","checkAndAdd","NavigationComponent","platform","splashScreen","statusBar","initializeApp","ready","then","styleDefault","hide","mobile","is","ALL_COMPONENTS","ShareModule","declarations","exports","imports","FavouritesService","immoStore","getOffers","getOffer","addOffer","existingOffer","updateOffer","providedIn"],"mappings":"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","file":"default~home-home-module~pages-fav-list-fav-list-module~pages-new-offer-new-offer-module~pages-offer~cb66719d-es5.js","sourcesContent":["export default \"<ion-button (click)=\\\"takePictureCapacitor()\\\">Take Capacitor Picture</ion-button>\\n\\n<ion-button (click)=\\\"initPictureProcess()\\\">Take Web Picture</ion-button>\\n<div style=\\\"height: 0; width: 0; opacity: 0;\\\" hidden>\\n  <input type=\\\"file\\\" id=\\\"pwaphoto\\\" #photoRef accept=\\\"image/x-png,image/jpeg\\\" (change)=\\\"handleInput()\\\">\\n</div>\\n\";","export default \"<ion-slides [pager]=\\\"true\\\" #slider>\\n    <ion-slide *ngFor=\\\"let image of images\\\">\\n        <ion-img [src]=\\\"image\\\"></ion-img>\\n    </ion-slide>\\n</ion-slides>\\n<ng-container *ngIf=\\\"images && images.length\\\">\\n    <ion-button fill=\\\"outline\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"slider.slidePrev()\\\">\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button fill=\\\"outline\\\" size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"slider.slideNext()\\\">\\n        <ion-icon name=\\\"arrow-forward-outline\\\"></ion-icon>\\n    </ion-button>\\n</ng-container>\\n\";","export default \"<ion-grid>\\n<ion-row>\\n  <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"4\\\" *ngFor=\\\"let item of items\\\">\\n    <ion-card  [routerLink]=\\\"'/offer-details/' + item.offerId\\\">\\n      <ion-img *ngIf=\\\"item.images\\\" [src]=\\\"item.images[0]\\\" alt=\\\"\\\"></ion-img>\\n      <ion-card-header>\\n        <ion-card-subtitle>{{item.address}}</ion-card-subtitle>\\n        <ion-card-title>{{item.title}}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        {{item.shortDescription}}\\n      </ion-card-content>\\n    </ion-card>\\n  </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";","export default \"<ion-list>\\n    <ion-item-sliding *ngFor=\\\"let offer of items\\\">\\n        <ion-item [routerLink]=\\\"'/offer-details/' + offer.offerId\\\">\\n            <ion-thumbnail slot=\\\"start\\\">\\n                <ion-img [src]=\\\"offer.images[0]\\\"></ion-img>\\n            </ion-thumbnail>\\n            <ion-label>\\n                <h2 [innerHTML]=\\\"offer.title\\\"></h2>\\n                <h3 [innerHTML]=\\\"offer.address\\\"></h3>\\n                <p [innerHTML]=\\\"offer.shortDescription\\\"></p>\\n            </ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"start\\\">\\n            <ion-item-option (click)=\\\"mark(offer)\\\">\\n                <ion-icon name=\\\"star\\\"></ion-icon>\\n            </ion-item-option>\\n        </ion-item-options>\\n    </ion-item-sliding>\\n</ion-list>\\n\";","export default \"<ion-tabs>\\n    <ion-tab-bar slot=\\\"top\\\" *ngIf=\\\"!mobile\\\">\\n        <ng-content *ngTemplateOutlet=\\\"nav; context: {layout: 'icon-start'}\\\"></ng-content>\\n    </ion-tab-bar>\\n    <ion-tab-bar slot=\\\"bottom\\\" *ngIf=\\\"mobile\\\">\\n        <ng-content *ngTemplateOutlet=\\\"nav; context: {layout: 'label-hide'}\\\"></ng-content>\\n    </ion-tab-bar>\\n</ion-tabs>\\n\\n\\n<ng-template #nav let-layout=\\\"layout\\\">\\n    <ion-tab-button tab=\\\"home\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"home\\\"></ion-icon>\\n        <ion-label>Home</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"search\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"search\\\"></ion-icon>\\n        <ion-label>Search</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"favourites\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"bookmarks\\\"></ion-icon>\\n        <ion-label>Favourites</ion-label>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"new-offer\\\" [layout]=\\\"layout\\\">\\n        <ion-icon name=\\\"medkit\\\"></ion-icon>\\n        <ion-label>New Offer</ion-label>\\n    </ion-tab-button>\\n</ng-template>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2FtZXJhL2NhbWVyYS5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, ElementRef, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { Plugins, CameraResultType, Permissions, PermissionType } from '@capacitor/core';\nconst { Camera } = Plugins;\n\n@Component({\n    selector: 'app-camera',\n    templateUrl: './camera.component.html',\n    styleUrls: [ './camera.component.scss' ],\n})\nexport class CameraComponent {\n    @ViewChild('photoRef', { static: true }) photoInput: ElementRef;\n    @Output() public readonly capture = new EventEmitter<string>();\n\n    constructor(private readonly toasts: ToastController) {\n    }\n\n    initPictureProcess() {\n        this.photoInput.nativeElement.click();\n    }\n\n    async handleInput() {\n        const files: FileList = this.photoInput.nativeElement.files;\n        if (!files && files.length <= 0) {\n            return;\n        }\n        try {\n            const base64Photo = await this.convertBase64(files[ 0 ]);\n            this.capture.emit(base64Photo);\n        } catch {\n            const toast = await this.toasts.create({\n                message: 'Could not take picture',\n                duration: 2000,\n                color: 'warning',\n                translucent: true,\n            });\n            toast.present();\n        }\n    }\n\n    convertBase64(image: File): Promise<string> {\n        if (!image) {\n            return;\n        }\n\n        const reader: FileReader = new FileReader();\n        reader.readAsDataURL(image);\n        return new Promise((resolve, reject) => {\n            reader.onload = () => resolve(reader.result as string);\n            reader.onerror = (error) => reject(error);\n        });\n    }\n\n    async takePictureCapacitor() {\n        try {\n            const cameraPermission = await Permissions.query({ name: PermissionType.Camera });\n            console.log(cameraPermission);\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            const image = await Camera.getPhoto({\n                quality: 90,\n                allowEditing: true,\n                resultType: CameraResultType.Base64,\n            });\n            const base64Image = image.base64String;\n            this.capture.emit('data:image/jpeg;base64, ' + base64Image);\n\n        } catch (e) {\n            console.error(e);\n        }\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.scss'],\n})\nexport class GalleryComponent {\n  @Input() images: string[];\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaXRlbS1ncmlkL2l0ZW0tZ3JpZC5jb21wb25lbnQuc2NzcyJ9 */\";","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { OfferItem } from '../../services/item.service';\nimport { ToastController } from '@ionic/angular';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-item-grid',\n    templateUrl: './item-grid.component.html',\n    styleUrls: [ './item-grid.component.scss' ],\n    changeDetection: ChangeDetectionStrategy.Default,\n})\nexport class ItemGridComponent {\n    @Input() items: OfferItem[];\n\n    constructor(\n        private readonly toast: ToastController,\n        private favourites: FavouritesService,\n    ) {\n    }\n\n    async mark(item: OfferItem) {\n        const id = await this.favourites.update(item);\n        const toast = await this.toast.create({\n            message: `added #${ item.offerId } ${ id }to favourites`,\n            duration: 1000,\n            color: 'light',\n            translucent: true,\n        });\n        toast.present();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaXRlbS1saXN0aW5nL2l0ZW0tbGlzdGluZy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, Input } from '@angular/core';\nimport { OfferItem } from '../../services/item.service';\nimport { ToastController } from '@ionic/angular';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-item-listing',\n    templateUrl: './item-listing.component.html',\n    styleUrls: [ './item-listing.component.scss' ],\n})\nexport class ItemListingComponent {\n    @Input() items: OfferItem[];\n\n    constructor(\n        private readonly toast: ToastController,\n        private favourites: FavouritesService,\n    ) {}\n\n    async mark(item: OfferItem) {\n        const id = await this.favourites.checkAndAdd(item);\n        const message = `Added #${ item.offerId } to favouites`;\n        const toast = await this.toast.create({\n            message,\n            duration: 1000,\n            color: 'dark',\n            translucent: false,\n        });\n        await toast.present();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, Input } from '@angular/core';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\n\n@Component({\n    selector: 'app-navigation',\n    templateUrl: './navigation.component.html',\n    styleUrls: [ './navigation.component.scss' ],\n})\nexport class NavigationComponent {\n    public mobile: boolean;\n\n    constructor(\n        private platform: Platform,\n        private splashScreen: SplashScreen,\n        private statusBar: StatusBar,\n    ) {\n        this.initializeApp(); // todo in service\n    }\n\n    initializeApp() {\n        this.platform.ready().then(() => {\n            this.statusBar.styleDefault();\n            this.splashScreen.hide();\n\n            this.mobile = this.platform.is('mobile') || this.platform.is('mobileweb');\n\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { ItemListingComponent } from './item-listing/item-listing.component';\nimport { NavigationComponent } from './navigation/navigation.component';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { ImmoStoreDexieService, ImmoStoreService } from '../services/immo-store-web.service';\nimport { ItemGridComponent } from './item-grid/item-grid.component';\nimport { CameraComponent } from './camera/camera.component';\nimport { GalleryComponent } from './gallery/gallery.component';\n\nconst ALL_COMPONENTS = [\n    ItemListingComponent,\n    NavigationComponent,\n    ItemGridComponent,\n    CameraComponent,\n    GalleryComponent\n]\n\n@NgModule({\n    declarations: ALL_COMPONENTS,\n    exports: ALL_COMPONENTS,\n    imports: [\n        CommonModule,\n        IonicModule,\n        RouterModule,\n    ],\n})\nexport class ShareModule {\n}\n","import { Injectable } from '@angular/core';\nimport { ImmoStoreService } from './immo-store-web.service';\nimport { OfferItem } from './item.service';\nimport { ancestorWhere } from 'tslint';\n\n@Injectable({ providedIn: 'root' })\nexport class FavouritesService {\n\n    constructor(private readonly immoStore: ImmoStoreService) {\n    }\n\n    async getAll(): Promise<OfferItem[]> {\n        return await this.immoStore.getOffers();\n    }\n\n    async get(id: number): Promise<OfferItem> {\n        const item = await this.immoStore.getOffer(id);\n        return item;\n    }\n\n    async update(item: OfferItem): Promise<number> {\n        return this.immoStore.addOffer(item);\n    }\n\n    async checkAndAdd(item: OfferItem) {\n        const existingOffer = await this.immoStore.getOffer(item.offerId);\n        if(!existingOffer) {\n            return this.immoStore.addOffer(item);\n        }\n        else {\n            return this.immoStore.updateOffer(item);\n        }\n    }\n}\n"]}