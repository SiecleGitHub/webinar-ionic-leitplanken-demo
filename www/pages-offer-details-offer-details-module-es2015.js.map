{"version":3,"sources":["./src/app/pages/offer-details/offer-details.page.html","./src/app/pages/offer-details/offer-details-routing.module.ts","./src/app/pages/offer-details/offer-details.module.ts","./src/app/pages/offer-details/offer-details.page.scss","./src/app/pages/offer-details/offer-details.page.ts"],"names":[],"mappings":"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","file":"pages-offer-details-offer-details-module-es2015.js","sourcesContent":["export default \"<ion-header translucent=\\\"true\\\">\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button [defaultHref]=\\\"'/'\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{item?.title}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n\\n    <ion-header collapse=\\\"condense\\\" translucent=\\\"true\\\">\\n        <ion-toolbar>\\n            <ion-title size=\\\"large\\\">{{item?.title}}</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"6\\\">\\n               <app-gallery [images]=\\\"item?.images\\\"></app-gallery>\\n            </ion-col>\\n            <ion-col size-sm=\\\"12\\\" size-md=\\\"6\\\">\\n                <ion-text color=\\\"dark\\\">\\n                    <h2>\\n                        {{item?.shortDescription}}\\n                    </h2>\\n                </ion-text>\\n                <p *ngIf=\\\"item && item.date\\\">{{item.date}}</p>\\n                <p>{{item?.address}}</p>\\n                <p>Offer: #{{item?.offerId}}</p>\\n                <hr/>\\n                <ion-item>\\n                    <app-camera (capture)=\\\"onCapture($event)\\\"></app-camera>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-button (click)=\\\"share()\\\">Tell a friend</ion-button>\\n                </ion-item>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OfferDetailsPage } from './offer-details.page';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: OfferDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OfferDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OfferDetailsPageRoutingModule } from './offer-details-routing.module';\n\nimport { OfferDetailsPage } from './offer-details.page';\nimport { ShareModule } from '../../components/share.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        OfferDetailsPageRoutingModule,\n        ShareModule,\n\n    ],\n    declarations: [ OfferDetailsPage ],\n})\nexport class OfferDetailsPageModule {\n}\n","export default \".gridl {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n  grid-template-rows: auto;\\n  grid-gap: 0.3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXhzY2h1bHRlL3Byb2plY3RzL1RUL2RlbW9zL3R0LWlvbmljLWltbW8vc3JjL2FwcC9wYWdlcy9vZmZlci1kZXRhaWxzL29mZmVyLWRldGFpbHMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9vZmZlci1kZXRhaWxzL29mZmVyLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGtDQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvb2ZmZXItZGV0YWlscy9vZmZlci1kZXRhaWxzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkbCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnI7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogYXV0bztcbiAgZ3JpZC1nYXA6IC4zcmVtO1xufVxuIiwiLmdyaWRsIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmcjtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvO1xuICBncmlkLWdhcDogMC4zcmVtO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ItemSerivce, OfferItem } from '../../services/item.service';\nimport { Camera, CameraResultType, Permissions, PermissionType } from '@capacitor/core';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-offer-details',\n    templateUrl: './offer-details.page.html',\n    styleUrls: [ './offer-details.page.scss' ],\n})\nexport class OfferDetailsPage implements OnInit {\n    public item: OfferItem;\n\n    constructor(\n        private readonly acr: ActivatedRoute,\n        private readonly items: ItemSerivce,\n        private readonly favourites: FavouritesService,\n    ) {\n    }\n\n    async ngOnInit() {\n        const id = this.acr.snapshot.params.id;\n        this.item = await this.favourites.get(Number.parseInt(id, 10));\n\n        if (!this.item) {\n            this.item = await this.items.get(id);\n        }\n    }\n\n\n    async onCapture($event: string) {\n        if (!this.item.images) {\n            this.item.images = [];\n        }\n        this.item.images.push($event);\n        this.updateItemStore();\n    }\n\n    async updateItemStore() {\n        await this.favourites.checkAndAdd(this.item);\n    }\n\n    async share() {\n        try {\n            // @ts-ignore\n            await navigator.share({\n                title: 'title',\n                url: window.location.toString(),\n                text: 'sharing some text',\n            });\n        } catch (err) {\n            /*\n               This error will appear if the user canceled the action of sharing.\n             */\n            alert(`Couldn't share ${ err }`);\n        }\n    }\n}\n"],"sourceRoot":"webpack:///"}