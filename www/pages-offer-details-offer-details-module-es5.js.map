{"version":3,"sources":["webpack:///src/app/pages/offer-details/offer-details.page.html","webpack:///src/app/pages/offer-details/offer-details-routing.module.ts","webpack:///src/app/pages/offer-details/offer-details.module.ts","webpack:///src/app/pages/offer-details/offer-details.page.scss","webpack:///src/app/pages/offer-details/offer-details.page.ts"],"names":["routes","path","component","OfferDetailsPageRoutingModule","imports","forChild","exports","OfferDetailsPageModule","declarations","OfferDetailsPage","acr","items","favourites","id","snapshot","params","get","Number","parseInt","item","$event","images","push","updateItemStore","checkAndAdd","navigator","share","title","url","window","location","toString","text","alert","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,KADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,6BAA6B;AAAA;AAAA,KAA1C;;AAAaA,iCAA6B,6DAJzC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAIyC,GAA7BH,6BAA6B,CAA7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMb,QAAaI,sBAAsB;AAAA;AAAA,KAAnC;;AAAaA,0BAAsB,6DAXlC,+DAAS;AACNH,aAAO,EAAE,CACL,4DADK,EAEL,0DAFK,EAGL,0DAHK,EAIL,2FAJK,EAKL,oEALK,CADH;AASNI,kBAAY,EAAE,CAAE,oEAAF;AATR,KAAT,CAWkC,GAAtBD,sBAAsB,CAAtB;;;;;;;;;;;;;;;;ACtBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWf,QAAaE,gBAAgB;AAGzB,gCACqBC,GADrB,EAEqBC,KAFrB,EAGqBC,UAHrB,EAGkD;AAAA;;AAF7B,aAAAF,GAAA,GAAAA,GAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,UAAA,GAAAA,UAAA;AAEpB;;AARwB;AAAA;AAAA,mCAUR;;;;;;;AACPC,sB,GAAK,KAAKH,GAAL,CAASI,QAAT,CAAkBC,MAAlB,CAAyBF,E;;AACxB,2BAAM,KAAKD,UAAL,CAAgBI,GAAhB,CAAoBC,MAAM,CAACC,QAAP,CAAgBL,EAAhB,EAAoB,EAApB,CAApB,CAAN;;;AAAZ,yBAAKM,I;;wBAEA,KAAKA,I;;;;;;AACM,2BAAM,KAAKR,KAAL,CAAWK,GAAX,CAAeH,EAAf,CAAN;;;AAAZ,yBAAKM,I;;;;;;;;;AAEZ;AAjBwB;AAAA;AAAA,kCAoBTC,MApBS,EAoBO;;;;;;AAC5B,wBAAI,CAAC,KAAKD,IAAL,CAAUE,MAAf,EAAuB;AACnB,2BAAKF,IAAL,CAAUE,MAAV,GAAmB,EAAnB;AACH;;AACD,yBAAKF,IAAL,CAAUE,MAAV,CAAiBC,IAAjB,CAAsBF,MAAtB;AACA,yBAAKG,eAAL;;;;;;;;;AACH;AA1BwB;AAAA;AAAA,0CA4BD;;;;;;;AACpB,2BAAM,KAAKX,UAAL,CAAgBY,WAAhB,CAA4B,KAAKL,IAAjC,CAAN;;;;;;;;;AACH;AA9BwB;AAAA;AAAA,gCAgCX;;;;;;;;AAGN,2BAAMM,SAAS,CAACC,KAAV,CAAgB;AAClBC,2BAAK,EAAE,OADW;AAElBC,yBAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,EAFa;AAGlBC,0BAAI,EAAE;AAHY,qBAAhB,CAAN;;;;;;;;;;AAMA;;;AAGAC,yBAAK,wCAAL;;;;;;;;;AAEP;AA9CwB;;AAAA;AAAA,OAA7B;;;;cAI8B;;cACE;;cACK;;;;AANxBxB,oBAAgB,6DAL5B,gEAAU;AACPyB,cAAQ,EAAE,mBADH;AAEPC,cAAQ,EAAR;AAAA;AAAA,gHAFO;;;;AAAA,KAAV,CAK4B,GAAhB1B,gBAAgB,CAAhB","file":"pages-offer-details-offer-details-module-es5.js","sourcesContent":["export default \"<ion-header translucent=\\\"true\\\">\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button [defaultHref]=\\\"'/'\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{item?.title}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n\\n    <ion-header collapse=\\\"condense\\\" translucent=\\\"true\\\">\\n        <ion-toolbar>\\n            <ion-title size=\\\"large\\\">{{item?.title}}</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"6\\\">\\n               <app-gallery [images]=\\\"item?.images\\\"></app-gallery>\\n            </ion-col>\\n            <ion-col size-sm=\\\"12\\\" size-md=\\\"6\\\">\\n                <ion-text color=\\\"dark\\\">\\n                    <h2>\\n                        {{item?.shortDescription}}\\n                    </h2>\\n                </ion-text>\\n                <p *ngIf=\\\"item && item.date\\\">{{item.date}}</p>\\n                <p>{{item?.address}}</p>\\n                <p>Offer: #{{item?.offerId}}</p>\\n                <hr/>\\n                <ion-item>\\n                    <app-camera (capture)=\\\"onCapture($event)\\\"></app-camera>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-button (click)=\\\"share()\\\">Tell a friend</ion-button>\\n                </ion-item>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OfferDetailsPage } from './offer-details.page';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: OfferDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OfferDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OfferDetailsPageRoutingModule } from './offer-details-routing.module';\n\nimport { OfferDetailsPage } from './offer-details.page';\nimport { ShareModule } from '../../components/share.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        OfferDetailsPageRoutingModule,\n        ShareModule,\n\n    ],\n    declarations: [ OfferDetailsPage ],\n})\nexport class OfferDetailsPageModule {\n}\n","export default \".gridl {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n  grid-template-rows: auto;\\n  grid-gap: 0.3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXhzY2h1bHRlL3Byb2plY3RzL1RUL2RlbW9zL3R0LWlvbmljLWltbW8vc3JjL2FwcC9wYWdlcy9vZmZlci1kZXRhaWxzL29mZmVyLWRldGFpbHMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9vZmZlci1kZXRhaWxzL29mZmVyLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGtDQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvb2ZmZXItZGV0YWlscy9vZmZlci1kZXRhaWxzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkbCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnI7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogYXV0bztcbiAgZ3JpZC1nYXA6IC4zcmVtO1xufVxuIiwiLmdyaWRsIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmcjtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvO1xuICBncmlkLWdhcDogMC4zcmVtO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ItemSerivce, OfferItem } from '../../services/item.service';\nimport { Camera, CameraResultType, Permissions, PermissionType } from '@capacitor/core';\nimport { FavouritesService } from '../../services/favourites.service';\n\n@Component({\n    selector: 'app-offer-details',\n    templateUrl: './offer-details.page.html',\n    styleUrls: [ './offer-details.page.scss' ],\n})\nexport class OfferDetailsPage implements OnInit {\n    public item: OfferItem;\n\n    constructor(\n        private readonly acr: ActivatedRoute,\n        private readonly items: ItemSerivce,\n        private readonly favourites: FavouritesService,\n    ) {\n    }\n\n    async ngOnInit() {\n        const id = this.acr.snapshot.params.id;\n        this.item = await this.favourites.get(Number.parseInt(id, 10));\n\n        if (!this.item) {\n            this.item = await this.items.get(id);\n        }\n    }\n\n\n    async onCapture($event: string) {\n        if (!this.item.images) {\n            this.item.images = [];\n        }\n        this.item.images.push($event);\n        this.updateItemStore();\n    }\n\n    async updateItemStore() {\n        await this.favourites.checkAndAdd(this.item);\n    }\n\n    async share() {\n        try {\n            // @ts-ignore\n            await navigator.share({\n                title: 'title',\n                url: window.location.toString(),\n                text: 'sharing some text',\n            });\n        } catch (err) {\n            /*\n               This error will appear if the user canceled the action of sharing.\n             */\n            alert(`Couldn't share ${ err }`);\n        }\n    }\n}\n"]}