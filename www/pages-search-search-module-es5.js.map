{"version":3,"sources":["webpack:///src/app/pages/search/search.page.html","webpack:///src/app/pages/search/search-routing.module.ts","webpack:///src/app/pages/search/search.module.ts","webpack:///src/app/pages/search/search.page.scss","webpack:///src/app/pages/search/search.page.ts"],"names":["routes","path","component","SearchPageRoutingModule","imports","forChild","exports","SearchPageModule","declarations","SearchPage","items","filter$","getAll","allItems","filteredItems$","pipe","detail","value","length","filter","title","offerId","shortDescription","address","includes","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,uBAAuB;AAAA;AAAA,KAApC;;AAAaA,2BAAuB,6DAJnC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAImC,GAAvBH,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKb,QAAaI,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAV5B,+DAAS;AACNH,aAAO,EAAE,CACL,4DADK,EAEL,0DAFK,EAGL,0DAHK,EAIL,oEAJK,EAKL,8EALK,CADH;AAQNI,kBAAY,EAAE,CAAE,uDAAF;AARR,KAAT,CAU4B,GAAhBD,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACrBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,QAAaE,UAAU;AAKnB,0BACoBC,KADpB,EACsC;AAAA;;AAAlB,aAAAA,KAAA,GAAAA,KAAA;AAJpB,aAAAC,OAAA,GAAU,IAAI,4CAAJ,EAAV;AAMC;;AARkB;AAAA;AAAA,mCAUF;;;;;;;;;AACG,2BAAM,KAAKD,KAAL,CAAWE,MAAX,EAAN;;;AAAhB,yBAAKC,Q;AACL,yBAAKC,cAAL,GAAsB,KAAKH,OAAL,CAAaI,IAAb,CAClB,2DAAI;AAAA,0BAAGC,MAAH,QAAGA,MAAH;AAAA,6BAAgBA,MAAM,CAACC,KAAP,IAAgBD,MAAM,CAACC,KAAP,CAAaC,MAA7B,GACd,KAAI,CAACL,QAAL,CAAcM,MAAd,CAAqB;AAAA,4BAAGC,KAAH,SAAGA,KAAH;AAAA,4BAAUC,OAAV,SAAUA,OAAV;AAAA,4BAAmBC,gBAAnB,SAAmBA,gBAAnB;AAAA,4BAAqCC,OAArC,SAAqCA,OAArC;AAAA,+BACnBH,KAAK,CAACI,QAAN,CAAeR,MAAM,CAACC,KAAtB,KACGI,OAAO,IAAIL,MAAM,CAACC,KADrB,IAEGK,gBAAgB,CAACE,QAAjB,CAA0BR,MAAM,CAACC,KAAjC,CAFH,IAGGM,OAAO,CAACC,QAAR,CAAiBR,MAAM,CAACC,KAAxB,CAJgB;AAAA,uBAArB,CADc,GAMd,KAAI,CAACJ,QANP;AAAA,qBAAJ,CADkB,EASlB,iEAAU,KAAKA,QAAf,CATkB,CAAtB;;;;;;;;;AAWH;AAvBkB;;AAAA;AAAA,OAAvB;;;;cAM+B;;;;AANlBJ,cAAU,6DALtB,gEAAU;AACPgB,cAAQ,EAAE,YADH;AAEPC,cAAQ,EAAR;AAAA;AAAA,kGAFO;;;;AAAA,KAAV,CAKsB,GAAVjB,UAAU,CAAV","file":"pages-search-search-module-es5.js","sourcesContent":["export default \"<ion-header translucent=\\\"true\\\">\\n    <ion-toolbar>\\n        <ion-title>Search</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n    <ion-header collapse=\\\"condense\\\">\\n        <ion-toolbar>\\n            <ion-title size=\\\"large\\\">Search</ion-title>\\n        </ion-toolbar>\\n        <ion-toolbar>\\n            <ion-searchbar (ionChange)=\\\"filter$.next($event);\\\" inputmode=\\\"search\\\" animated [showCancelButton]=\\\"'focus'\\\"></ion-searchbar>\\n        </ion-toolbar>\\n    </ion-header>\\n    <app-item-listing [items]=\\\"filteredItems$ | async\\\"></app-item-listing>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchPage } from './search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SearchPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchPageRoutingModule } from './search-routing.module';\n\nimport { SearchPage } from './search.page';\nimport { ShareModule } from '../../components/share.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        ShareModule,\n        SearchPageRoutingModule,\n    ],\n    declarations: [ SearchPage ],\n})\nexport class SearchPageModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NlYXJjaC9zZWFyY2gucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ItemSerivce, OfferItem } from '../../services/item.service';\nimport { Observable, Subject } from 'rxjs';\nimport { map, startWith, tap } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-search',\n    templateUrl: './search.page.html',\n    styleUrls: [ './search.page.scss' ],\n})\nexport class SearchPage implements OnInit {\n    allItems: OfferItem[];\n    filter$ = new Subject<CustomEvent>();\n    filteredItems$: Observable<OfferItem[]>;\n\n    constructor(\n        public readonly items: ItemSerivce,\n    ) {\n    }\n\n    async ngOnInit() {\n        this.allItems = await this.items.getAll();\n        this.filteredItems$ = this.filter$.pipe(\n            map(({ detail }) => detail.value && detail.value.length\n                ? this.allItems.filter(({ title, offerId, shortDescription, address }) =>\n                    title.includes(detail.value)\n                    || offerId == detail.value\n                    || shortDescription.includes(detail.value)\n                    || address.includes(detail.value))\n                : this.allItems,\n            ),\n            startWith(this.allItems),\n        );\n    }\n}\n"]}